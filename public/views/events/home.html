<section class="events" ng-controller="EventsCtrl" ng-init="find()">
  <table ng-table="tableParams" show-filter="true" class="table table-condensed" template-pagination="custom/pager" pagination-top pagination-bottom>
    <tr class="event" ng-repeat="event in $data" ng-click="edit(event)">
<!--       <td title="'Image'">
        <img class="image img-rounded" src="{{event.pic_big}}">
      </td> -->
      <td class="image" title="'Image'" style="background-image: url({{event.pic_cover.source}})">
        <div class="image">
          <div class="name">{{event.name}}</div>
          <div class="info">
            <div class="place">
              <i class="fui-location"></i>{{event.location}}
            </div>
            <div class="date">
              <i class="fui-calendar-solid"></i>
              <div class="day">{{event.start_time | date:'dd'}}</div>
              <div class="month">{{event.start_time | date:'MMM' | uppercase}}</div>
            </div>
            <div class="time">
              <i class="fui-time"></i>
              <div>{{event.start_time | date:'HH:mm'}}</div>
            </div>          
          </div>
        <!-- <img class="image img-rounded" src="{{event.pic_cover.source}}"> -->
        </div>
      </td>     
      <!-- <td title="'Name'" filter="{'name': 'text' }" class="name">
        <a target="_blank" href="https://facebook.com/{{event.eid}}">{{event.name}}</a>
      </td> -->

      <!-- <td title="'Date'" sortable="'start_time'" class="time">{{event.start_time | date:'EEE dd MMM HH:mm'}}</td> -->
      <!-- filter="{'start_time': 'date'}"-->
      <!--<td title="'End date'" sortable="'end_time'" class="time">{{event.end_time < event.start_time && event.end_time || '' | date:'EEE dd MMM HH:mm'}}</td>-->

      <!-- <td title="'Creator'" filter="{'creator': 'text'}" sortable="'creator.name'" class="creator">{{event.creator.name}}</td> -->
      <!-- <td title="'Description'" class="description">
        <pre>{{event.description}}</pre>
      </td> -->
      <!-- <td title="'Place'" filter="{'place': 'text'}" sortable="'place'" class="place"><i class="fui-location"></i>{{event.location}}</td> -->
      <!--<td title="'Location'" filter="{'location': 'text'}" sortable="'location'" class="location">{{event.location}}</td>
      <td title="'City'" filter="{'city': 'text'}" sortable="'city'" class="city">{{event.city}}</td>
      <td title="'Country'" filter="{'country': 'text'}" sortable="'country'" class="country">{{event.country}}</td>-->
      <td title="'Attending'" sortable="'attending.length'" class="attending"><i class="glyphicon glyphicon-group"></i>{{event.attending.length}}</td>
      <!-- <td title="'Unsure'" sortable="'unsure.length'" class="unsure">{{event.unsure.length}}</td> -->
      <td title="'Style'" filter="{'tags': 'select'}" filter-data="styles(column)" sortable="'query'" class="tag-list">
        <span class="tag-item" ng-repeat="tag in event.tags">{{tag}}</span>
      </td>
      <td title="'Price'" sortable="'price.num'" class="price">{{event.price.full}}</td>
      <!--<td title="'Privacy'" sortable="'privacy'" class="privacy">{{event.privacy}}</td>-->
      <!--<td class="map">
          <leaflet defaults="defaults" center="center" height="480px" width="640px"></leaflet>
        </td>-->
    </tr>
  </table>
  <script type="text/ng-template" id="custom/pager">
    <div class="pagination">
      <ul class="ng-cloak">
        <li ng-class="{'active': !page.active, 'first': page.type == 'first', 'previous': page.type == 'prev', 'next': page.type == 'next'}" ng-repeat="page in pages" ng-switch="page.type">
          <a ng-switch-when="prev" ng-click="paginate(params, page.number)" class="fui-arrow-left" href=""></a>
          <a ng-switch-when="first" ng-click="paginate(params, page.number)" href=""><span ng-bind="page.number"></span></a>
          <a ng-switch-when="page" ng-click="paginate(params, page.number)" href=""><span ng-bind="page.number"></span></a>
          <a ng-switch-when="more" ng-click="paginate(params, page.number)" href="">&#8230;</a>
          <a ng-switch-when="last" ng-click="paginate(params, page.number)" href=""><span ng-bind="page.number"></span></a>
          <a ng-switch-when="next" ng-click="paginate(params, page.number)" class="fui-arrow-right" href=""></a>
        </li>
        <li>
          <div class="btn-group">
              <button type="button" ng-class="{'active':params.count() == 10}" ng-click="params.count(10)" class="btn btn-default">10</button>
              <button type="button" ng-class="{'active':params.count() == 25}" ng-click="params.count(25)" class="btn btn-default">25</button>
              <button type="button" ng-class="{'active':params.count() == 50}" ng-click="params.count(50)" class="btn btn-default">50</button>
              <button type="button" ng-class="{'active':params.count() == 100}" ng-click="params.count(100)" class="btn btn-default">100</button>
          </div>
        </li>
    </ul>
  </script>
  <script type="text/ng-template" id="ng-table/filters/date.html">
     <div id="date" class="input-append" datetimez name="filter-date" ng-model="params.filter()[name]">
    
    <!--
    <input type="date" ng-model="params.filter()[name]" />

    <div class="form-group" ng-controller="DatepickerCtrl">
      <p class="input-group">
      <input type="text" class="form-control" name="filter-date" ng-model="params.filter()[name]" datepicker-popup="{{format}}" min="minDate" datepicker-options="dateOptions" />
      <span class="input-group-btn">
        <button class="btn btn-default" ng-click="open(params.filter()[name])"><i class="glyphicon glyphicon-calendar"></i></button>
      </span>
      </p>
    </div>
  -->
  </script>
</section>