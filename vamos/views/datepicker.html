<div class="datepicker"><div class="sort"><div class="sort_button" ng-click="showSortList = !showSortList">Sort by<i class="icon" ng-class="{ 'icon-down':!showSortList, 'icon-up':showSortList }"></i></div><ul class="sort_list" ng-show="showSortList"><li ng-repeat="(sortName, sortObject) in availableSortMethods" ng-class="{ active:sort.id===sortObject.id }" ng-click="setSort(sortName);" data-track-category="view:timeframe selector" data-track-action="sort {{sortName}}" data-track-label="{{ device.info }}" onclick="gaTrack(this)"><i class="icon icon-forward"></i>{{sortObject.name}}</li></ul></div><div class="range_button today" ng-click="dateSelected(today)" data-track-category="view:timeframe selector" data-track-action="today" data-track-label="{{ device.info }}" onclick="gaTrack(this)">Today</div><div class="range_button" ng-hide="today.getTime() === Date.sun().getTime()" ng-click="selectThisWeekend()" data-track-category="view:timeframe selector" data-track-action="weekend" data-track-label="{{ device.info }}" onclick="gaTrack(this)">This weekend</div><div class="range_button" ng-show="today.getTime() === Date.sun().getTime()" ng-click="selectNextWeekend()" data-track-category="view:timeframe selector" data-track-action="weekend" data-track-label="{{ device.info }}" onclick="gaTrack(this)">Next weekend</div><div class="table_holder"><div class="month_name">{{ datepicker.weeks[0][0] | date:'MMMM' }}</div><table cellpadding="0" cellspacing="0"><thead><tr><th ng-repeat="day in datepicker.weeks[0]"><span class="date">{{ day | date:'EEE' }}</span><tbody><tr ng-repeat="week in datepicker.weeks"><td ng-repeat="day in week" ng-class="{ disabled:!day.enabled, enabled:day.enabled, active:(day.getTime() === startDay.getTime() || day.between(startDay, endDate)) && day.enabled }" ng-click="day.enabled && dateSelected(day);" data-track-category="view:timeframe selector" data-track-action="day {{Â day | date:'EEE' }}" data-track-label="{{ device.info }}" onclick="gaTrack(this)"><span class="date">{{ day | date:'d' }}</span></table></div></div>